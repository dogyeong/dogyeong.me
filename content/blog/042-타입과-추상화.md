---
publishedAt: 2023-07-12
thumbnail: https://res.cloudinary.com/dpefbi4ts/image/upload/v1701008712/thumb/042-thumb.png
thumbnailPlaceholder: WILL_BE_REPLACED
---

# 타입과 추상화

:PublishDate{:date="publishedAt"}

:PostThumbnail{:src="thumbnail" :placeholder-data-uri="thumbnailPlaceholder"}

> 도서 '객체지향의 사실과 오해' 내용 중 3장 '타입과 추상화' 정리

## 1. 객체지향과 추상화

### 추상화

- 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법
- 추상화의 목적은 복잡성을 이해하기 쉬운 수준으로 단순화하는 것
  - 예시) 지하철 노선도
- 추상화는 두 차원에서 이뤄진다
  - 사물들 간의 공통점은 취하고 차이점은 버리는 **일반화**
  - 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거하는 **단순화**

### 그룹으로 나누어 추상화하기

- 정원사, 병사, 신하, 왕자와 공주, 왕과 왕비들, 하트 잭, 하트 왕과 여왕은 트럼프 그룹에 속한다
- 하얀 토끼는 토끼 그룹에 속한다

### 개념

- 공통점을 기반으로 객체들을 묶기 위한 그릇을 개념이라고 한다
- 하트 여왕은 '트럼프'라는 개념에 속하고, 하얀 토끼는 '토끼'라는 개념에 속한다
- 어떤 객체가 어떤 개념 그룹의 일원이 될 때, 객체를 그 개념의 인스턴스라고 한다

### 개념의 세 가지 관점

- 심볼: 개념을 가리키는 간략한 이름이나 명칭
- 내연: 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 알 수 있다
- 외연: 개념에 속하는 모든 객체의 집합

### 개념의 세 가지 관점을 트럼프에 적용

- 심볼: 트럼프
- 내연: 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려 있는 등장인물
- 외연: 정원사, 병사, 왕자와 공주 등

### 분류

- 객체에 특정한 개념을 적용하는 작업
- 객체에 특정한 개념이 적용되면 그 객체는 특정한 집합의 멤버로 분류된다
- 어떤 객체를 어떤 개념으로 분류할지가 객체지향의 품질을 결정한다

### 분류와 추상화

- 개념을 통해 객체를 분류하는 과정은 앞에서 말한 추상화의 두 가지 차원을 모두 사용한다
  - 트럼프라는 개념으로 묶은 것은 개별 객체 간의 차이점은 무시하고 공통점을 취하는 일반화
  - 트럼프에 속하는 객체들의 공통점은 앨리스의 이야기를 풀어나가는 데 도움이 되는 요소들이고, 나머지 불필요한 세부 사항을 제거하는 단순화

![객체의 분류](/images/042-01.png)

## 2. 타입

### 타입은 개념이다

- 컴퓨터 공학에서 사용하는 타입(type)은 개념과 완전히 동일하다
- 타입에 속하는 객체 역시 타입의 인스턴스(instance)라고 한다

### 데이터 타입

- 컴퓨터 내의 데이터를 목적에 따라 분류하기 시작하면서 프로그래밍 언어에 타입 시스템이 생김
- 타입은 데이터가 어떻게 사용되느냐에 관한 것
  - 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 결정한다
- 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 감춰진다
  - 타입이 어떤 방식으로 저장되는지를 모르더라도 데이터 타입에 적용할 수 있는 연산자만 알고 있으면 된다

### 객체와 타입

- 객체지향 프로그래밍은 객체를 일종의 데이터처럼 사용한다
  - 객체를 타입에 따라 분류하고 명명하는 것은 새로운 데이터 타입을 선언하는 것과 같다
- 객체의 타입에도 데이터 타입과 같은 특징이 적용된다
  - 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다
  - 객체의 내부적인 표현은 외부로부터 감춰진다

### 행동이 우선이다

- 객체의 타입을 결정하는 것은 객체의 행동뿐이다
  - 트럼프 타입의 객체들도 같은 방식에 따라 행동했기 때문
- 객체의 내부 표현 방식이 다르더라도 객체들이 동일하게 행동한다면 그 객체들은 동일한 타입에 속한다
- 동일한 행동 = 동일한 책임 = 동일한 메세지 수신
  - 이것은 **다형성**에 의미를 부여
  - 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
- 외부에 데이터를 감춰야 한다는 것은 캡슐화를 의미
- 데이터를 먼저 생각하는 데이터 주도 설계의 단점을 개선하기 위해 책임 주도 설계방법이 고안됨

## 3. 타입의 계층

### 트럼프 계층

- 앨리스가 본 트럼프들은 정확하게는 '트럼프 인간'이다
- 트럼프 타입은 '납작 엎드릴 수 있고 뒤집어질 수 있다'
- 트럼프 인간 타입은 '납작 엎드릴 수 있고 뒤집어질 수 있으며 걸을 때마다 몸이 종이처럼 좌우로 펄럭일 수 있다'
- 트럼프 인간 타입의 객체는 트럼프 타입의 객체가 할 수 있는 모든 행동을 할 수 있을뿐만 아니라 추가적인 행동을 더 할 수 있다
  - 트럼프 인간은 트럼프의 일종이지만 일반적인 트럼프 카드보다 좀 더 특화된 행동을 하는 트럼프다
  - 트럼프 인간 타입의 외연은 트럼프 타입의 외연의 부분 집합이다

### 일반화/특수화 관계

- 트럼프는 트럼프 인간에 비해 일반적인 개념이다
- 트럼프 인간은 반대로 프럼프에 비해 특수한 개념이다
- 이러한 두 개념 사이의 관계를 일반화/특수화라고 한다
- 특수한 개념은 일반적인 개념보다 범위가 좁고, 일반적인 개념의 부분집합이 된다
- 일반화/특수화 관계를 결정하는 것은 행동이다
  - 특수한 타입은 일반적인 타입의 행동을 동일하게 수행하면서 더 많은 수의 행동을 가진다

### 슈퍼타입/서브타입

- 일반적인 타입을 슈퍼타입, 특수한 타입을 서브타입이라고 한다
- 서브타입은 슈퍼타입의 행위와 호환되기 때문에 서브타입은 슈퍼타입을 대체할 수 있어야 한다
  - 트럼프 인간은 트럼프를 대체할 수 있다
  - 슈퍼타입/서브타입을 표현할 때는 속이 빈 삼각형으로 연결해서 표현하며, 서브타입에서는 슈퍼타입과 중복된 행위를 생략할 수 있다

![타입의 계층](/images/042-02.png)

## 4. 정적 모델

### 타입의 목적

- 인간의 인지능력으로 동적으로 변하는 객체의 복잡성을 극복하기 어렵기 때문
- 타입은 시간에 따라 동적으로 변하는 객체의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다
- 결국 타입은 추상화다

### 동적 모델과 정적 모델

- 객체가 특정 시점에 어떤 상태를 가지는지 표현하는 동적 모델
  - dynamic model, object diagram
- 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 정적 모델
  - static model, type diagram
- [참고](https://www.visual-paradigm.com/guide/uml-unified-modeling-language/what-is-object-diagram/)

### 클래스

- 타입을 구현하는 가장 보편적인 방법
- 클래스와 타입은 동일한 것이 아님
- 클래스는 타입의 구현 외에도 코드를 재사용하는 용도로도 사용됨
